import{r as i,g as o,a2 as w,j as e,a3 as j}from"./index-DcV7uD1U.js";import{p as m}from"./users.service-BrQQAD6W.js";const A=()=>{const[n,l]=i.useState(!1),[c,a]=i.useState(""),x=o(t=>t.token),f=o(t=>t.profile),p=o(t=>t.logout);i.useEffect(()=>{(async()=>{if(x)try{const s=await m(f.name);if(s.data.status===200){d(s.data.data),u("/inicio");return}}catch(s){console.error("Error al cargar perfil",s)}p()})()},[]);const h=o(t=>t.setToken),d=o(t=>t.setProfile),u=w(),g=async t=>{t.preventDefault(),l(!0),a("");const s=t.currentTarget.elements[0].value,b=t.currentTarget.elements[1].value;try{const r=await j(s,b);h(r.data.token);const v=await m(r.data.name);d(v.data.data),u("/inicio")}catch(r){r.response?r.response.status===401?a("Credenciales incorrectas. Verifica tu correo y contraseña."):r.response.status===422?a("Datos inválidos. Completa correctamente el formulario."):a("Ocurrió un error inesperado."):a("No se pudo conectar al servidor.")}finally{l(!1)}};return e.jsx("div",{className:"w-full min-h-screen overflow-x-hidden bg-gradient-to-br from-[#0B0B13] via-[#141421] to-[#0B0B13] flex items-center justify-center px-4",children:e.jsxs("div",{className:"relative bg-[#141421] rounded-3xl p-1 overflow-hidden shadow-2xl max-w-md w-full",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#715DF2] via-[#5a49c7] to-[#715DF2] animate-gradient-slow rounded-3xl opacity-60 blur-2xl"}),e.jsxs("form",{onSubmit:g,className:"relative z-10 w-full bg-[#141421] rounded-3xl p-8 space-y-6 backdrop-blur-md",children:[e.jsx("h2",{className:"text-4xl font-bold text-white text-center mb-2",children:"Iniciar Sesión"}),e.jsx("p",{className:"text-[#A0A0A0] text-center text-sm mb-6",children:"Ingresa a tu cuenta para protegerte mejor."}),c&&e.jsx("div",{className:"text-red-500 text-center text-sm mb-4",children:c}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm text-[#A0A0A0]",children:"Correo Electrónico"}),e.jsx("div",{className:"flex items-center bg-[#1a1a1d] rounded-lg px-4 py-3 focus-within:ring-2 focus-within:ring-[#715DF2] transition",children:e.jsx("input",{type:"email",id:"email",placeholder:"email@gmail.com",className:"flex-1 bg-transparent text-white placeholder-[#666] focus:outline-none",required:!0})})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm text-[#A0A0A0]",children:"Contraseña"}),e.jsx("div",{className:"flex items-center bg-[#1a1a1d] rounded-lg px-4 py-3 focus-within:ring-2 focus-within:ring-[#715DF2] transition",children:e.jsx("input",{type:"password",id:"password",placeholder:"********",className:"flex-1 bg-transparent text-white placeholder-[#666] focus:outline-none",required:!0})})]}),e.jsx("div",{className:"text-right",children:e.jsx("a",{href:"/forgot-password",className:"text-[#715DF2] text-sm hover:underline transition",children:"¿Olvidaste tu contraseña?"})}),e.jsx("button",{type:"submit",disabled:n,className:`w-full py-3 ${n?"bg-[#5a49c7] cursor-not-allowed":"bg-gradient-to-r from-[#715DF2] to-[#5a49c7] hover:brightness-110"} text-white font-bold rounded-full transition duration-300`,children:n?"Iniciando...":"Iniciar Sesión"}),e.jsxs("p",{className:"text-center text-[#A0A0A0] text-sm mt-4",children:["¿No tienes cuenta?"," ",e.jsx("a",{href:"/registro",className:"text-[#715DF2] font-semibold hover:underline",children:"Crear una cuenta"})]})]})]})})};export{A as default};
