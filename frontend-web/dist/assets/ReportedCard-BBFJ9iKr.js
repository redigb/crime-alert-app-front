import{r as l,j as e,P as y,o,p as B,q as $,s as R,V as D,t as F,v as U,z as q,k as O,U as Q,c as W,Q as X,O as Y,B as c,W as Z,m as A,Y as G,Z as H,E as J,$ as K}from"./index-DcV7uD1U.js";import{M as k,m as _}from"./MySlider-CsvrgWoY.js";import{c as ee}from"./useCn-C0Y9tLwQ.js";const se=({type:t,url:d,alt:m})=>{const a=l.useRef(null),[i,x]=l.useState(!1),[g,f]=l.useState(0),[j,C]=l.useState(0),[h,N]=l.useState(!1),[M,E]=l.useState(1),[S,u]=l.useState(!1),[T,w]=l.useState(!1);l.useEffect(()=>{const s=a.current;if(!s||t!=="video")return;const n=()=>f(s.currentTime),r=()=>C(s.duration),p=()=>x(!1);return s.addEventListener("timeupdate",n),s.addEventListener("loadedmetadata",r),s.addEventListener("ended",p),()=>{s.removeEventListener("timeupdate",n),s.removeEventListener("loadedmetadata",r),s.removeEventListener("ended",p)}},[t]);const v=()=>{const s=a.current;s&&(i?s.pause():s.play(),x(!i))},V=s=>{const n=a.current;n&&(n.currentTime=s,f(s))},L=()=>{const s=a.current;s&&(s.muted=!h,N(!h))},z=s=>{const n=a.current;if(!n)return;const r=s;n.volume=r,E(r),N(r===0)},I=()=>{const s=a.current;s&&(s.currentTime=Math.min(s.currentTime+10,s.duration))},P=()=>{const s=a.current;s&&(s.currentTime=Math.max(s.currentTime-10,0))},b=s=>{const n=Math.floor(s/60),r=Math.floor(s%60);return`${n}:${r<10?"0":""}${r}`};return t==="image"?e.jsxs("div",{className:"rounded-lg overflow-hidden bg-[#232736] relative group",children:[e.jsx("img",{src:d||"/placeholder.svg",alt:m||"Imagen del reporte",className:"w-full h-auto max-h-[400px] object-contain"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):e.jsxs("div",{className:"rounded-lg overflow-hidden bg-[#232736] relative",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[e.jsx("video",{ref:a,src:d,className:"w-full h-auto max-h-[400px]",onClick:v}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center cursor-pointer",onClick:v,children:!i&&e.jsx("div",{className:"bg-black/40 rounded-full p-4 backdrop-blur-sm",children:e.jsx(y,{className:"h-8 w-8 text-white"})})}),e.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3 transition-opacity duration-300 ${T||i?"opacity-100":"opacity-0"}`,children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(k,{value:g,onChange:s=>V(s),min:0,max:j||100,step:.1}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{type:"button",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:P,children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx(o,{type:"button",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:v,children:i?e.jsx($,{className:"h-4 w-4"}):e.jsx(y,{className:"h-4 w-4"})}),e.jsx(o,{type:"button",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:I,children:e.jsx(R,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"text-xs text-white",children:[b(g)," / ",b(j)]}),e.jsxs("div",{className:"relative ml-auto flex items-center",children:[e.jsx(o,{type:"button",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:L,onMouseEnter:()=>u(!0),children:h?e.jsx(D,{className:"h-4 w-4"}):e.jsx(F,{className:"h-4 w-4"})}),S&&e.jsx("div",{className:"absolute right-0 bottom-full mb-2 bg-black/80 p-2 rounded-md w-24",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:e.jsx(k,{value:M,onChange:z,min:0,max:1,step:.01})}),e.jsx(o,{type:"button",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",children:e.jsx(U,{className:"h-4 w-4"})})]})]})]})})]})};function re({reporte:t,index:d,expandedReporte:m,toggleExpand:a,getEstadoBadge:i,getCategoriaIcon:x}){return e.jsx("div",{className:"shadow-md flex flex-col justify-between h-full",children:e.jsx(_.div,{className:"bg-[#1a1d29]/80 backdrop-blur-sm rounded-xl border border-[#2e3347]/50 shadow-xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:d*.1+.2},children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#1a1d29] to-[#13151f] flex items-center justify-center mt-1 border border-[#2e3347]/50 shadow-inner",children:x(t.categoria)}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold group flex items-center",children:[t.titulo,e.jsxs("span",{className:"ml-2 text-xs bg-[#13151f] px-2 py-0.5 rounded-full text-gray-400",children:["#",t.id]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-1 text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"h-3.5 w-3.5 mr-1"}),e.jsx("span",{children:t.fecha})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(O,{className:"h-3.5 w-3.5 mr-1"}),e.jsx("span",{children:t.hora})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{className:"h-3.5 w-3.5 mr-1"}),e.jsxs("span",{children:["@",t.usuario]})]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:i(t.estado)})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 bg-[#13151f]/80 px-3 py-1.5 rounded-full text-sm",children:[e.jsx(W,{className:"h-3.5 w-3.5 text-[#6c5ce7]"}),e.jsx("span",{className:"text-gray-300",children:t.ubicacion})]}),e.jsxs("div",{className:"flex items-center gap-1.5 bg-[#13151f]/80 px-3 py-1.5 rounded-full text-sm",children:[e.jsx(X,{className:"h-3.5 w-3.5 text-[#6c5ce7]"}),e.jsxs("span",{className:"text-gray-300",children:["Categoría: ",t.categoria]})]})]}),e.jsx("div",{className:"rounded-lg overflow-hidden mb-4 border border-[#2e3347]/30",children:e.jsx(se,{type:t.mediaType,url:t.mediaUrl,alt:t.titulo})}),e.jsx("div",{className:"text-sm text-gray-300 mb-3 line-clamp-2",children:t.descripcion}),t.descripcion.length>100&&e.jsxs("button",{className:"text-[#6c5ce7] text-sm flex items-center mt-2 hover:underline",onClick:()=>a(t.id),children:[m===t.id?"Ver menos":"Ver más",e.jsx(Y,{className:ee("h-4 w-4 ml-1 transition-transform",m===t.id?"rotate-180":"")})]}),e.jsx("hr",{className:"my-4 w-full border-t border-white/10"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(c,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white hover:bg-[#2e3347]/50 rounded-lg",children:[e.jsx(Z,{className:"h-4 w-4 mr-1.5"}),e.jsx("span",{className:"text-xs",children:t.comentarios})]}),e.jsxs(c,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white hover:bg-[#2e3347]/50 rounded-lg",children:[e.jsx(A,{className:"h-4 w-4 mr-1.5"}),e.jsx("span",{className:"text-xs",children:t.guardados})]}),e.jsxs(c,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white hover:bg-[#2e3347]/50 rounded-lg",children:[e.jsx(G,{className:"h-4 w-4 mr-1.5"}),e.jsx("span",{className:"text-xs",children:t.denuncias})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(c,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white hover:bg-[#2e3347]/50 rounded-lg",children:[e.jsx(H,{className:"h-4 w-4 mr-1.5"}),e.jsx("span",{className:"text-xs",children:t.likes})]}),e.jsxs(c,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white hover:bg-[#2e3347]/50 rounded-lg",children:[e.jsx(J,{className:"h-4 w-4 mr-1.5"}),e.jsx("span",{className:"text-xs",children:t.vistas})]}),e.jsx(c,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white hover:bg-[#2e3347]/50 rounded-lg",children:e.jsx(K,{className:"h-4 w-4"})})]})]})]})})})}export{re as R};
