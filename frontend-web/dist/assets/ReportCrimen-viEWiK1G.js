import{r as c,j as e,P as H,o as y,p as ee,q as te,s as se,V as ae,t as ie,v as le,g as ce,w as ne,R as L,c as E,x as G,y as M,I as N,f as $,z as W,k as X,D as re,B as O,X as oe,U as Z,d as de,E as me}from"./index-DcV7uD1U.js";import{M as xe,G as ue,a as he,c as pe}from"./maplibre-gl-BKec0oX6.js";import{c as ge}from"./useCn-C0Y9tLwQ.js";import{M as J,m as g}from"./MySlider-CsvrgWoY.js";const K=({media:o})=>{const m=c.useRef(null),[t,x]=c.useState(!1),[i,r]=c.useState(0),[w,S]=c.useState(0),[n,j]=c.useState(!1),[I,R]=c.useState(1),[C,b]=c.useState(!1),[D,T]=c.useState(!1);c.useEffect(()=>{x(!1),r(0),S(0)},[o]),c.useEffect(()=>{const a=m.current;if(!a)return;const u=()=>r(a.currentTime),h=()=>S(a.duration),P=()=>x(!1);return a.addEventListener("timeupdate",u),a.addEventListener("loadedmetadata",h),a.addEventListener("ended",P),()=>{a.removeEventListener("timeupdate",u),a.removeEventListener("loadedmetadata",h),a.removeEventListener("ended",P)}},[o]);const k=()=>{const a=m.current;a&&(t?a.pause():a.play(),x(!t))},U=a=>{const u=m.current;u&&(u.currentTime=a,r(a))},A=()=>{const a=m.current;a&&(a.muted=!n,j(!n))},z=a=>{const u=m.current;u&&(u.volume=a,R(a),j(a===0))},v=()=>{const a=m.current;a&&(a.currentTime=Math.min(a.currentTime+10,a.duration))},B=()=>{const a=m.current;a&&(a.currentTime=Math.max(a.currentTime-10,0))},F=a=>{const u=Math.floor(a/60),h=Math.floor(a%60);return`${u}:${h<10?"0":""}${h}`};return o?o.type==="image"?e.jsx("div",{className:"rounded-lg overflow-hidden",children:e.jsx("img",{src:o.url||"/placeholder.svg",alt:"Vista previa",className:"w-full h-auto max-h-[300px] object-contain bg-[#232736]"})}):e.jsxs("div",{className:"rounded-lg overflow-hidden bg-[#232736] relative",onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:[e.jsx("video",{ref:m,src:o.url,className:"w-full h-auto max-h-[300px]",onClick:k}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center cursor-pointer",onClick:k,children:!t&&e.jsx("div",{className:"bg-black/40 rounded-full p-4 backdrop-blur-sm",children:e.jsx(H,{className:"h-8 w-8 text-white"})})}),e.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3 transition-opacity duration-300 ${D||t?"opacity-100":"opacity-0"}`,children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(J,{value:i,onChange:a=>U(a),min:0,max:w||100,step:.1}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{type:"button",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:B,children:e.jsx(ee,{className:"h-4 w-4"})}),e.jsx(y,{type:"button",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:k,children:t?e.jsx(te,{className:"h-4 w-4"}):e.jsx(H,{className:"h-4 w-4"})}),e.jsx(y,{type:"button",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:v,children:e.jsx(se,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"text-xs text-white",children:[F(i)," / ",F(w)]}),e.jsxs("div",{className:"relative ml-auto flex items-center",children:[e.jsx(y,{type:"button",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",onClick:A,onMouseEnter:()=>b(!0),children:n?e.jsx(ae,{className:"h-4 w-4"}):e.jsx(ie,{className:"h-4 w-4"})}),C&&e.jsx("div",{className:"absolute right-0 bottom-full mb-2 bg-black/80 p-2 rounded-md w-24",onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:e.jsx(J,{value:I,onChange:z,min:0,max:1,step:.01})}),e.jsx(y,{type:"button",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 rounded-full",children:e.jsx(le,{className:"h-4 w-4"})})]})]})]})})]}):e.jsxs("div",{className:"bg-[#232736] rounded-lg flex items-center justify-center h-[200px] relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/placeholder.svg?height=400&width=600')] bg-cover bg-center opacity-20"}),e.jsx("div",{className:"relative",children:e.jsx("p",{className:"text-gray-500",children:"Sin archivo adjunto"})})]})},fe=o=>o?`https://crimen-alert-be-production.up.railway.app/storage/${o}`:null,Q=["Accidente de tráfico","Incendio","Inundación","Robo","Vandalismo"],we=()=>{var _,q;const o=ce(s=>s.profile),m=fe(o.image_profile),[t,x]=c.useState({titulo:"",descripcion:"",ubicacion:"",latitude:null,longitude:null,tipoIncidente:"",media:null}),[i,r]=c.useState({}),[w,S]=c.useState(!1),[n,j]=c.useState(0),[I,R]=c.useState(""),[C,b]=c.useState(""),D=c.useRef(null);c.useEffect(()=>{const s=new Date;R(s.toLocaleDateString()),b(s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},[]);const T=()=>{const s={};return t.titulo?t.titulo.length>255&&(s.titulo="El título no puede exceder los 255 caracteres"):s.titulo="El título es obligatorio",t.descripcion||(s.descripcion="La descripción es obligatoria"),(!t.latitude||!t.longitude)&&(s.ubicacion="La ubicación es obligatoria"),t.tipoIncidente||(s.tipoIncidente="Selecciona un tipo de incidente"),r(s),Object.keys(s).length===0},k=s=>{var V;const l=(V=s.target.files)==null?void 0:V[0];if(!l)return;const d=l.type.startsWith("image/"),f=l.type.startsWith("video/");if(d){if(l.size>5*1024*1024){r({...i,media:"La imagen no debe exceder los 5MB"});return}}else if(f){if(l.size>20*1024*1024){r({...i,media:"El video no debe exceder los 20MB"});return}}else{r({...i,media:"Formato de archivo no soportado"});return}const p=URL.createObjectURL(l);if(x({...t,media:{file:l,type:d?"image":"video",url:p}}),i.media){const{media:je,...Y}=i;r(Y)}},U=()=>{t.media&&(URL.revokeObjectURL(t.media.url),x({...t,media:null}))},A=()=>{if(n===0){if(!t.tipoIncidente){r({...i,tipoIncidente:"Selecciona un tipo de incidente"});return}if(!t.descripcion){r({...i,descripcion:"La descripción es obligatoria"});return}}else if(n===1&&(!t.latitude||!t.longitude)){r({...i,ubicacion:"La ubicación es obligatoria"});return}j(n+1)},z=()=>{j(n-1)},v=c.useRef(null),[B,F]=c.useState(!1),a=()=>{v.current&&v.current.trigger()},u=s=>{const{lng:l,lat:d}=s.lngLat;if(x(f=>({...f,latitude:d,longitude:l,ubicacion:`Lat: ${d.toFixed(5)}, Lon: ${l.toFixed(5)}`})),i.ubicacion){const{ubicacion:f,...p}=i;r(p)}};console.log("Datos Registrados asta ahora: ",t);const{showNotification:h}=ne(),P=async s=>{if(s.preventDefault(),!!T()){S(!0);try{const l=new FormData;l.append("titulo",t.titulo),l.append("descripcion",t.descripcion),l.append("direccion",t.ubicacion),l.append("latitude",String(t.latitude??"")),l.append("longitude",String(t.longitude??"")),l.append("user_id",String(o.id)),t.media&&(t.media.type==="image"?l.append("image",t.media.file):t.media.type==="video"&&l.append("video",t.media.file)),await pe(l),h({type:"success",title:"¡Reporte publicado!",message:"Tu reporte ha sido enviado correctamente."}),x({titulo:"",descripcion:"",ubicacion:"",latitude:null,longitude:null,tipoIncidente:"",media:null}),j(0)}catch(l){console.error("Error al publicar el reporte:",l),h({type:"error",title:"Error",message:"No se pudo enviar el reporte."})}finally{S(!1)}}};return e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(g.h1,{className:"text-4xl font-bold flex items-center justify-center gap-3",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx(L,{className:"h-10 w-10 text-red-500"}),e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-500 via-purple-500 to-[#6c5ce7]",children:"Publicar Nuevo Reporte"})]}),e.jsx(g.p,{className:"text-gray-400 mt-2",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:"Completa la información y visualiza cómo se verá tu publicación."})]}),e.jsx(g.div,{className:"mb-8 max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n>=0?"bg-[#6c5ce7]":"bg-gray-700"}`,children:e.jsx(L,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-xs mt-1",children:"Incidente"})]}),e.jsx("div",{className:`h-1 flex-1 mx-2 ${n>=1?"bg-[#6c5ce7]":"bg-gray-700"}`}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n>=1?"bg-[#6c5ce7]":"bg-gray-700"}`,children:e.jsx(E,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-xs mt-1",children:"Ubicación"})]}),e.jsx("div",{className:`h-1 flex-1 mx-2 ${n>=2?"bg-[#6c5ce7]":"bg-gray-700"}`}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n>=2?"bg-[#6c5ce7]":"bg-gray-700"}`,children:e.jsx(G,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-xs mt-1",children:"Multimedia"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[e.jsx(g.div,{className:"lg:col-span-3 relative",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:e.jsxs("div",{className:"bg-[#1a1d29]/80 backdrop-blur-sm rounded-xl p-6 border border-[#2e3347]/50 shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-[#6c5ce7]/10 rounded-full blur-3xl -mr-20 -mt-20"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-red-500/10 rounded-full blur-3xl -ml-20 -mb-20"}),e.jsx("form",{children:e.jsxs("div",{className:"space-y-6 relative",children:[e.jsx("input",{type:"hidden",name:"titulo",value:t.tipoIncidente}),n===0&&e.jsxs(g.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#6c5ce7] flex items-center justify-center",children:e.jsx(L,{className:"h-4 w-4"})}),e.jsx("h2",{className:"text-xl font-semibold",children:"Detalles del Incidente"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[e.jsx("span",{className:"text-[#6c5ce7]",children:"•"})," Tipo de incidente"]}),e.jsxs(M,{size:"lg",value:Q.includes(t.tipoIncidente)?t.tipoIncidente:"",onValueChange:s=>{if(x({...t,tipoIncidente:s,titulo:s==="Otro"?"":s}),i.tipoIncidente){const{tipoIncidente:l,...d}=i;r(d)}},children:[e.jsx(M.Trigger,{className:"w-full text-white",placeholder:"Seleccionar..."}),e.jsxs(M.List,{className:"max-h-60 overflow-y-auto",children:[Q.map(s=>e.jsx(M.Option,{value:s,children:s},s)),e.jsx(M.Option,{value:"Otro",children:"Otro"})]})]}),t.tipoIncidente==="Otro"&&e.jsxs("div",{className:"mt-10",children:[e.jsx("label",{className:"text-sm font-medium text-white mb-1 block",children:"Especifica el tipo de incidente"}),e.jsx(N,{placeholder:"Describe el tipo de incidente...",value:t.titulo,onChange:s=>x({...t,titulo:s.target.value}),className:`bg-[#13151f]/80 border-[#2e3347] text-white h-12 rounded-lg ${i.titulo?"border-red-500":""}`}),i.titulo&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.titulo})]}),i.tipoIncidente&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[e.jsx($,{className:"h-3 w-3 mr-1"}),i.tipoIncidente]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[e.jsx("span",{className:"text-[#6c5ce7]",children:"•"})," Fecha"]}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{value:I,onChange:s=>R(s.target.value),className:"bg-[#13151f]/80 border-[#2e3347] text-white pl-10 h-12 rounded-lg"}),e.jsx(W,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[e.jsx("span",{className:"text-[#6c5ce7]",children:"•"})," Hora"]}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{value:C,onChange:s=>b(s.target.value),className:"bg-[#13151f]/80 border-[#2e3347] text-white pl-10 h-12 rounded-lg"}),e.jsx(X,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[e.jsx("span",{className:"text-[#6c5ce7]",children:"•"})," Descripción"]}),e.jsx(re,{placeholder:"Describe brevemente lo sucedido...",className:ge("bg-[#13151f]/80 border-[#2e3347] text-white min-h-[120px] rounded-lg",i.descripcion&&"border-red-500"),value:t.descripcion,onChange:s=>{if(x({...t,descripcion:s.target.value}),i.descripcion){const{descripcion:l,...d}=i;r(d)}}}),i.descripcion&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[e.jsx($,{className:"h-3 w-3 mr-1"}),i.descripcion]})]})]}),n===1&&e.jsxs(g.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#6c5ce7] flex items-center justify-center",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx("h2",{className:"text-xl font-semibold",children:"Ubicación del Incidente"})]}),e.jsx("div",{className:"relative rounded-lg overflow-hidden h-[200px] mb-4 bg-[#13151f]/80 border border-[#2e3347]",children:e.jsxs(xe,{initialViewState:{longitude:-76.2422,latitude:-9.9306,zoom:13},style:{width:"100%",height:"100%"},mapStyle:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",onLoad:()=>F(!0),onClick:u,children:[e.jsx(ue,{ref:v,onGeolocate:s=>{var f;const l=s.coords;if(x(p=>({...p,latitude:l.latitude,longitude:l.longitude,ubicacion:`Lat: ${l.latitude.toFixed(5)}, Lon: ${l.longitude.toFixed(5)}`})),i.ubicacion){const{ubicacion:p,...V}=i;r(V)}const d=(f=v.current)==null?void 0:f._map;if(d){const p=d.getZoom();d.easeTo({center:[l.longitude,l.latitude],zoom:Math.max(p,13)})}},positionOptions:{enableHighAccuracy:!0},trackUserLocation:!1,showUserLocation:!0,position:"top-left"}),t.latitude&&t.longitude&&e.jsx(he,{longitude:t.longitude,latitude:t.latitude,color:"#6c5ce7"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[e.jsx("span",{className:"text-[#6c5ce7]",children:"•"})," Dirección"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(N,{placeholder:"Ej: Av. Grau 123",className:`bg-[#13151f]/80 border-[#2e3347] text-white pl-10 h-12 rounded-lg ${i.ubicacion?"border-red-500":""}`,value:t.ubicacion,onChange:s=>{if(x({...t,ubicacion:s.target.value}),i.ubicacion){const{ubicacion:l,...d}=i;r(d)}}}),e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),e.jsxs(O,{type:"button",className:"bg-[#6c5ce7] hover:bg-[#5b4bc9] text-white h-12 px-4 rounded-lg",onClick:a,disabled:!B,children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Ubicación actual"]})]}),i.ubicacion&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[e.jsx($,{className:"h-3 w-3 mr-1"}),i.ubicacion]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[e.jsx("span",{className:"text-[#6c5ce7]",children:"•"})," Latitud"]}),e.jsx(N,{value:((_=t.latitude)==null?void 0:_.toString())||"",readOnly:!0,className:"bg-[#13151f]/80 border-[#2e3347] text-white h-12 rounded-lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[e.jsx("span",{className:"text-[#6c5ce7]",children:"•"})," Longitud"]}),e.jsx(N,{value:((q=t.longitude)==null?void 0:q.toString())||"",readOnly:!0,className:"bg-[#13151f]/80 border-[#2e3347] text-white h-12 rounded-lg"})]})]})]}),n===2&&e.jsxs(g.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#6c5ce7] flex items-center justify-center",children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx("h2",{className:"text-xl font-semibold",children:"Evidencia Multimedia"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[e.jsx("span",{className:"text-[#6c5ce7]",children:"•"})," Subir imagen/video (opcional)"]}),t.media?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"rounded-lg overflow-hidden",children:e.jsx(K,{media:t.media})}),e.jsx(y,{variant:"outline",type:"button",color:"error",className:"absolute top-2 right-2 rounded-full h-8 w-8",onClick:U,children:e.jsx(oe,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-[#2e3347] rounded-lg p-8 text-center bg-[#13151f]/50 hover:bg-[#13151f]/80 transition-colors cursor-pointer",onClick:()=>{var s;return(s=D.current)==null?void 0:s.click()},children:[e.jsx(G,{className:"h-12 w-12 mx-auto mb-4 text-[#6c5ce7]"}),e.jsx("p",{className:"text-white mb-2",children:"Arrastra y suelta archivos aquí o haz clic para seleccionar"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Imágenes: JPG, PNG, GIF (máx. 5MB) ",e.jsx("br",{}),"Videos: MP4, MOV, AVI, FLV (máx. 20MB)"]})]}),e.jsx("input",{ref:D,type:"file",className:"hidden",accept:"image/jpeg,image/png,image/jpg,image/gif,video/mp4,video/mov,video/avi,video/flv",onChange:k}),i.media&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[e.jsx($,{className:"h-3 w-3 mr-1"}),i.media]})]}),e.jsx("div",{className:"bg-[#13151f]/50 rounded-lg p-4 border border-[#2e3347]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[m?e.jsx("img",{src:m,alt:"Foto de Perfil",className:"w-12 h-12 rounded-full object-cover border-2 border-[#7C3AED]"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#6c5ce7]/20 flex items-center justify-center",children:e.jsx(Z,{className:"h-5 w-5 text-[#6c5ce7]"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium",children:["Reportado por: ",o.name]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["ID: #",o.id," • ",I," ",C]})]})]})})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[n>0?e.jsx(O,{type:"button",variant:"outline",className:"bg-transparent border-[#2e3347] text-white hover:bg-[#2e3347]/50",onClick:z,children:"Anterior"}):e.jsx("div",{}),n<2?e.jsxs(O,{type:"button",className:"bg-[#6c5ce7] hover:bg-[#5b4bc9] text-white",onClick:A,children:["Siguiente ",e.jsx(de,{className:"h-4 w-4 ml-1"})]}):e.jsxs(O,{type:"button",disabled:w,onClick:P,className:"bg-gradient-to-r from-[#6c5ce7] to-[#8a7bf8] hover:from-[#5b4bc9] hover:to-[#7a6be8] text-white",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),w?"Publicando...":"Publicar Reporte"]})]})]})})]})}),e.jsx(g.div,{className:"lg:col-span-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},children:e.jsxs("div",{className:"bg-[#1a1d29]/80 backdrop-blur-sm rounded-xl p-6 border border-[#2e3347]/50 shadow-xl sticky top-4",children:[e.jsxs("div",{className:"mb-6 flex items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#6c5ce7]/20 flex items-center justify-center mr-3",children:e.jsx(me,{className:"h-5 w-5 text-[#6c5ce7]"})}),e.jsx("h2",{className:"text-xl font-semibold",children:"Vista Previa"}),e.jsx("div",{className:"ml-auto bg-yellow-500/20 text-yellow-500 text-xs px-3 py-1 rounded-full",children:e.jsx("span",{children:"Nuevo"})})]}),e.jsxs("div",{className:"bg-[#13151f]/80 rounded-lg overflow-hidden border border-[#2e3347]/50",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(K,{media:t.media}),t.media&&e.jsx("div",{className:"absolute top-2 right-2 bg-black/50 text-white text-xs px-3 py-1 rounded-full",children:t.media.type==="image"?"Imagen":"Video"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:e.jsx(L,{className:"h-6 w-6 text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.tipoIncidente!=="Otro"?t.tipoIncidente||"Tipo de Incidente":t.titulo||"Tipo de Incidente"}),e.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[e.jsx(X,{className:"h-3 w-3 mr-2"}),e.jsx("span",{children:C}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx(W,{className:"h-3 w-3 mr-2"}),e.jsx("span",{children:I})]})]})]}),e.jsxs("div",{className:"flex items-start gap-3 bg-[#1a1d29]/50 p-4 rounded-lg",children:[e.jsx(E,{className:"h-5 w-5 text-[#6c5ce7] mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:t.ubicacion||"Ubicación aproximada"}),t.latitude&&t.longitude&&e.jsxs("p",{className:"text-xs text-gray-400",children:["Lat: ",t.latitude.toFixed(6),", Lng: ",t.longitude.toFixed(6)]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Descripción"}),e.jsx("p",{className:"text-sm text-gray-300 bg-[#1a1d29]/30 p-4 rounded-lg border-l-4 border-[#6c5ce7]",children:t.descripcion||"Descripción breve del incidente..."})]}),e.jsx("div",{className:"flex items-center justify-between pt-3 border-t border-[#2e3347]/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[m?e.jsx("img",{src:m,alt:"Foto de Perfil",className:"w-12 h-12 rounded-full object-cover border-2 border-[#7C3AED]"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#6c5ce7]/20 flex items-center justify-center",children:e.jsx(Z,{className:"h-7 w-7 text-[#6c5ce7]"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"text-base font-bold text-white leading-none py-1",children:o.name}),e.jsx("p",{className:"text-textSecondary text-sm leading-none",children:o.email})]})]})})]})]})]})})]})]})};export{we as default};
