import{r as c,j as e,S as w,a as R,M as m,B as x,F as I,T as l,R as f,A as g,C as t,b as L,I as S,L as b,c as C,d as E,U as A,e as P,f as p}from"./index-DcV7uD1U.js";import{R as u}from"./ReportedCard-BBFJ9iKr.js";import{H as M,m as h}from"./HeaderTitle-D09V2w3Z.js";import{l as T,M as U}from"./maplibre-gl-BKec0oX6.js";import{m as k}from"./MySlider-CsvrgWoY.js";import{u as B}from"./users.service-BrQQAD6W.js";import"./useCn-C0Y9tLwQ.js";const V=()=>{const[i,j]=c.useState(null),d=s=>{j(i===s?null:s)},n=s=>{switch(s){case"verificado":return e.jsx(t,{className:"bg-blue-500 hover:bg-blue-600",children:e.jsx(t.Label,{children:"Verificado"})});case"urgente":return e.jsx(t,{className:"bg-red-500 hover:bg-red-600",children:e.jsx(t.Label,{children:"Urgente"})});case"resuelto":return e.jsx(t,{className:"bg-green-500 hover:bg-green-600",children:e.jsx(t.Label,{children:"Resuelto"})});default:return e.jsx(t,{className:"bg-yellow-500 hover:bg-yellow-600",children:e.jsx(t.Label,{children:"Nuevo"})})}},a=s=>{switch(s.toLowerCase()){case"robo":return e.jsx(g,{className:"h-5 w-5 text-red-500"});case"incendio":return e.jsx(g,{className:"h-5 w-5 text-orange-500"});case"accidente":return e.jsx(g,{className:"h-5 w-5 text-yellow-500"});default:return e.jsx(g,{className:"h-5 w-5 text-blue-500"})}},[o,v]=c.useState([]),[N,y]=c.useState(!0);return c.useEffect(()=>{(async()=>{const r=await T();v(r),y(!1)})()},[]),N?e.jsx(w,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(k.div,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx(M,{icon:e.jsx(R,{className:"h-7 w-7"}),title1:"Reportes de",title2:"Incidentes",subtitle:"Mantente informado sobre lo que ocurre en tu alrededor."}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(m,{children:[e.jsx(m.Trigger,{children:e.jsxs(x,{variant:"outline",className:"bg-[#1a1d29]/80 border border-[#2e3347] text-white hover:bg-[#2e3347]/50 flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),"Filtrar"]})}),e.jsxs(m.Content,{className:"bg-[#1a1d29] text-white border border-[#2e3347] shadow-lg rounded-lg mt-2",children:[e.jsx(m.Item,{className:"hover:bg-[#2e3347] px-4 py-2 cursor-pointer",children:"Add Team"}),e.jsx(m.Item,{className:"hover:bg-[#2e3347] px-4 py-2 cursor-pointer",children:"Add Project"}),e.jsx(m.Item,{className:"hover:bg-[#2e3347] px-4 py-2 cursor-pointer",children:"My Profile"})]})]})})]}),e.jsxs(l,{defaultValue:"todos",className:"w-full",children:[e.jsx(l.List,{className:"flex gap-2 bg-[#1a1d29]/80 border border-[#2e3347]/50 p-1 rounded-lg",children:[{label:"Todos",value:"todos"},{label:"Nuevos",value:"nuevo"},{label:"Urgente",value:"urgente"},{label:"Verificado",value:"verificado"},{label:"Otros",value:"otros"}].map(s=>e.jsx(l.Trigger,{value:s.value,className:`px-4 py-2 text-sm rounded-md transition-colors duration-200 \r
                                        aria-selected:bg-[#6c5ce7] font-medium\r
                                        aria-selected:text-white \r
                                        text-[#A0A0B0] \r
                                        hover:bg-[#2a2e42]`,children:s.label},s.value))}),e.jsx(l.Panel,{value:"todos",className:"mt-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map((s,r)=>e.jsx(u,{reporte:s,index:r,expandedReporte:i,toggleExpand:d,getEstadoBadge:n,getCategoriaIcon:a},s.id))})}),e.jsx(l.Panel,{value:"nuevo",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.filter(s=>s.estado.toLowerCase()==="nuevo").map((s,r)=>e.jsx(u,{reporte:s,index:r,expandedReporte:i,toggleExpand:d,getEstadoBadge:n,getCategoriaIcon:a},s.id))})}),e.jsx(l.Panel,{value:"urgente",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.filter(s=>s.estado.toLowerCase()==="urgente").map((s,r)=>e.jsx(u,{reporte:s,index:r,expandedReporte:i,toggleExpand:d,getEstadoBadge:n,getCategoriaIcon:a},s.id))})}),e.jsx(l.Panel,{value:"verificado",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.filter(s=>s.estado.toLowerCase()==="verificado").map((s,r)=>e.jsx(u,{reporte:s,index:r,expandedReporte:i,toggleExpand:d,getEstadoBadge:n,getCategoriaIcon:a},s.id))})}),e.jsx(l.Panel,{value:"otros",children:e.jsxs("div",{className:"p-8 text-center text-gray-400",children:[e.jsx(f,{className:"h-12 w-12 mx-auto mb-4 text-gray-500 opacity-50"}),e.jsx("p",{children:"No hay reportes en esta categoría"})]})})]})]})},z=()=>{const[i,j]=c.useState([]),[d,n]=c.useState(!0);return c.useEffect(()=>{(async()=>{const o=await B();j(o.data.data),n(!1)})()},[]),console.log(d),e.jsxs("div",{className:"space-y-6",children:[e.jsx(h.div,{className:"bg-[#1a1d29]/80 backdrop-blur-sm rounded-xl border border-[#2e3347]/50 shadow-xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-200"}),e.jsx(S,{placeholder:"Buscar reportes...",className:"bg-[#13151f]/70 border-[#2e3347] text-white pl-10 h-12 rounded-lg"})]})}),e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx(b,{to:"/reportar",children:e.jsxs(x,{className:`w-full bg-gradient-to-r \r
                from-red-500 border-transparent\r
                 to-red-600 hover:from-red-600\r
                  hover:to-red-700 text-white h-14 \r
                  rounded-xl shadow-lg shadow-red-500/20`,children:[e.jsx(f,{className:"h-5 w-5 mr-2"}),"Reportar Incidente"]})})}),e.jsx(h.div,{className:"bg-[#1a1d29]/80 backdrop-blur-sm rounded-xl border border-[#2e3347]/50 shadow-xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsxs(b,{to:"/mapa",children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#6c5ce7]/20 flex items-center justify-center",children:e.jsx(C,{className:"h-4 w-4 text-[#6c5ce7]"})}),e.jsx("h2",{className:"text-lg font-semibold",children:"Mapa de Incidentes"})]})}),e.jsxs("div",{className:"relative h-[200px] bg-[#13151f]",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/placeholder.svg?height=400&width=600')] bg-cover bg-center opacity-50"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"w-full h-full bg-[#1f1f22] relative",children:[e.jsx(U,{initialViewState:{longitude:-76.2422,latitude:-9.9306,zoom:12},style:{width:"100%",height:"100%"},mapStyle:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json"}),";"]})}),e.jsx("div",{className:"absolute top-1/4 left-1/3 w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-1/2 left-2/3 w-3 h-3 bg-yellow-500 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-3/4 left-1/4 w-3 h-3 bg-blue-500 rounded-full animate-pulse"})]}),e.jsx("div",{className:"p-3 bg-[#13151f]/50",children:e.jsxs(x,{variant:"ghost",className:"w-full text-[#6c5ce7] hover:bg-[#6c5ce7]/10 text-sm",children:["Ver mapa completo",e.jsx(E,{className:"h-4 w-4 ml-1"})]})})]})}),e.jsxs(h.div,{className:"bg-[#1a1d29]/80 backdrop-blur-sm rounded-xl border border-[#2e3347]/50 shadow-xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center",children:e.jsx(A,{className:"h-4 w-4 text-green-500"})}),e.jsx("h2",{className:"text-lg font-semibold",children:"Usuarios Activos"})]}),e.jsx("div",{className:"space-y-3",children:i.map(a=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-sm",children:["@",a.name]})}),e.jsx("div",{className:`w-2 h-2 rounded-full ${a.active?"bg-green-500":"bg-gray-500"}`})]},a.id))})]}),e.jsxs(h.div,{className:"bg-[#1a1d29]/80 backdrop-blur-sm rounded-xl border border-[#2e3347]/50 shadow-xl p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-500/20 flex items-center justify-center",children:e.jsx(P,{className:"h-4 w-4 text-red-500"})}),e.jsx("h2",{className:"text-lg font-semibold",children:"Contactos de Emergencia"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-[#13151f]/50 rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-500/10 flex items-center justify-center",children:e.jsx(p,{className:"h-4 w-4 text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Policía"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Emergencias"})]})]}),e.jsx(x,{size:"sm",className:"bg-red-500 hover:bg-red-600 h-8",children:"105"})]}),e.jsxs("div",{className:"bg-[#13151f]/50 rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500/10 flex items-center justify-center",children:e.jsx(p,{className:"h-4 w-4 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Bomberos"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Incendios y rescates"})]})]}),e.jsx(x,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 h-8",children:"116"})]}),e.jsxs("div",{className:"bg-[#13151f]/50 rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/10 flex items-center justify-center",children:e.jsx(p,{className:"h-4 w-4 text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Ambulancia"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Emergencias médicas"})]})]}),e.jsx(x,{size:"sm",className:"bg-green-500 hover:bg-green-600 h-8",children:"106"})]})]})]})]})},G=()=>e.jsx("main",{className:"min-h-screen text-white p-4 py-6",children:e.jsx("div",{className:"max-w-full mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx(V,{})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"lg:sticky lg:top-6 h-[calc(100vh-3rem)] overflow-y-auto no-scrollbar",children:e.jsx(z,{})})})]})})});export{G as default};
